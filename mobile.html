<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/mainMobile.css" />

    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.css" media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="text/javascript" src="jquery-3.3.1.js"></script>
    <script src="js/main.js"></script>

    <!--Favicon-->
    <link rel="icon" href="/assets/favicon-16x16.png" sizes="16x16">
    <title>NonProfit Calculator</title>
</head>

<body onload="calculateAfterDiscounts(),mobileView()">



    <div class="sectionOne" id="sectionOne" role='navigation'>

        <div class="img_header">
            <img src="assets/pieshares_logo.png" width="120">

        </div>
        <div class="header">
            <div>
                <p id="calc_Title">Projection Calculator for Nonprofits</p>
            </div>
        </div>
        <div class="tableOne">
            <table class="highlight">

                <tr>
                    <td>

                        <label><span id="displayRangeOne">4</span>
                            Hosted Virtual Campaigns per Year</label>
                        <input type="range" min="1" max="6" value="4" class="slider" id="myRangeOne" />
                    </td>
                </tr>

                <tr>
                    <td>

                        <label>
                            Shoppers per Virtual Campaign
                        </label>
                        <input id="myRangeTwo" class="input-field" type="number" value="100" />
                    </td>
                </tr>

                <tr>
                    <td>

                        <label> <span style="color: #81cf44;">$ </span><span id="displayRangeThree">100</span> Avg
                            Shoppers Spend per Virtual Campaign After
                            Discounts</label>
                        <input id="myRangeThree" type="range" min="0" max="200" value="100" class="slider" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="resultTotal">
                            <span style="font-size:medium; padding-right: 1em;">Total Spent by Shoppers After
                                Discounts: </span>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="result"></span>
                            </p>
                        </div>
                    </td>

                </tr>



            </table>
        </div>


        <div class="holder" style=" visibility: hidden;">

            <span id="splitsT1R2"></span>%
            <span id="splitsT1R3"></span>%
            <span id="splitsT1R4"></span>%
            <span id="splitsT1R5"></span>%

            <span id="resultRevenue"></span>

            <span id="splitsT2R7"></span>%
            <span id="splitsT2R8"></span>%
            <span id="splitsT2R9"></span>%
            <span id="splitsT2R10"></span>%
            <span id="splitsT2R11"></span>%

            <span id="resultRevenueNone"></span>

            <span id="total_percentage"></span>%
        </div>

        <!-- Virtual Campaign Revenu Projection -->
        <div class="tableTwo">
            <table class="highlight">
                <caption>Hosted Virtual Campaign Revenue</caption>
                <thead>
                    <tr>
                        <th>
                            Revenue Split
                        </th>
                        <th>
                            Virtual Campaign
                        </th>
                        <th>
                            Revenue Earned
                        </th>
                        <th>
                            Percentage Eligible for Revenue Split
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>6.0%</td>
                        <td>Nonprofit Campaign Host</td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultSplit1"></span>
                            </p>
                        </td>
                        <td><span style="font-weight: bold;">100%</span> Guaranteed as Virtual Campaign Host</td>
                        
                    </tr>
                    <tr>
                        <td>

                            <span>2.0%</span>
                        </td>

                        <td>Favorite Nonprofit of Shopper</td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultSplit2"></span>
                            </p>
                        </td>
                        <td>
                            <label>
                                <p>

                                    <span id="displayRangeR2C1">50</span>% of
                                    Shoppers selected your Nonprofit
                                    as their Favorite
                                </p>
                            </label>
                            <input type="range" min="0" max="100" value="50" step="5" class="slider" id="myRangeR2C1" />
                        <td></td>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span>2.0%</span>
                        </td>

                        <td> Favorite Nonprofit of Business</td>
                        <td>
                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplit3"></span>
                        </td>
                        <td>
                            <label>
                                <p>

                                    <span id="displayRangeR3C1">95</span>% of
                                    Businesses selected your Nonprofit
                                    as their Favorite
                                </p>
                            </label>
                            <input type="range" min="0" max="100" value="95" step="5" class="slider" id="myRangeR3C1" />
                        </td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>

                            <span>0.5%</span>
                        </td>
                        <td>
                            Shopper Referral
                        </td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultSplit4"></span>
                            </p>
                        </td>
                        <td>
                            <label>
                                <p>

                                    <span id="displayRangeR4C1">70</span>% of
                                    Shoppers selected your Nonprofit
                                    as the referral
                                </p>
                            </label>
                            <input type="range" min="0" max="100" value="95" step="5" class="slider" id="myRangeR4C1" />
                        </td>
                    </tr>
                    <tr>
                        <td>

                            <span>0.5%</span>
                        </td>

                        <td>
                            Business Referral
                        </td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultSplit5"></span>
                            </p>
                        </td>
                        <td>
                            <label>

                                <span id="displayRangeR5C1">70</span>% of
                                Businesses selected your Nonprofit
                                as the referral
                            </label>
                            <input type="range" min="0" max="100" value="70" step="5" class="slider" id="myRangeR5C1" />
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>





        <!-- =======Revenue: Non-Hosted Virtual Campaigns Projection================================ -->

        <div class="tableThree">
            <table class="highlight">
                <caption>Non-Hosted Virtual Campaigns</caption>
                <thead>
                    <tr>
                        <th>
                            Revenue Split
                        </th>
                        <th>
                            Virtual Campaign
                        </th>
                        <th>
                            Revenue Received
                        </th>
                        <th>
                            Percentage Eligible for Revenue Split
                        </th>
                        <th>

                        </th>
                    </tr>
                </thead>
                <tr>

                    <td>
                        <span>2.0%</span>
                    </td>

                    <td>Favorite Nonprofit of Shopper</td>
                    <td>
                        <p>

                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplitNone1"></span>
                        </p>
                    </td>
                    <td>
                        <label>
                            <p>

                                <span id="displayRangeNoneR2C1">10</span>% of your
                                Shoppers spending in other Virtual Campaigns.
                            </p>
                        </label>
                        <input type="range" min="0" max="100" value="10" step="5" class="slider" id="myRangeNoneR2C1" />
                    </td>
                   
                </tr>

                <tr>

                    <td>
                        <span>2.0%</span>
                    </td>

                    <td>Favorite Nonprofit of Business</td>
                    <td>
                        <p>

                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplitNone2"></span>
                        </p>
                    </td>
                    <td>
                        <label>
                            <p>

                                <span id="displayRangeNoneR3C1">5</span>% of your
                                Businesses selling in other Virtual Campaigns.
                            </p>
                        </label>
                        <input type="range" min="0" max="100" value="5" step="5" class="slider" id="myRangeNoneR3C1" />
                    </td>
                    
                </tr>
                <tr>
                    <td>
                        <span>0.5%</span>
                    </td>

                    <td>
                        Shopper referral was assigned to Nonprofit
                    </td>
                    <td>
                        <p>

                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplitNone3"></span>
                        </p>
                    </td>
                    <td>
                        <label>

                            <span id="displayRangeNoneR4C1">70</span>% of
                            Shoppers selected your Nonprofit as
                            the referral
                        </label>
                        <input type="range" min="0" max="100" value="70" step="5" class="slider" id="myRangeNoneR4C1" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>0.5%</span>
                    </td>

                    <td>
                        Business referral was assigned to Nonprofit
                    </td>
                    <td>
                        <p>

                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplitNone4"></span>
                        </p>
                    </td>
                    <td>
                        <label>

                            <span id="displayRangeNoneR5C1">70</span>% of
                            Businesses selected your Nonprofit as
                            the referral
                        </label>

                        <input type="range" min="0" max="100" value="70" step="5" class="slider" id="myRangeNoneR5C1" />
                    </td>
                </tr>
                <tr>

                    <td>
                        <span>0.5%</span>
                    </td>

                    <td>
                        Nonprofit Referral
                    </td>
                    <td>
                        <p>

                            <span style="color: #81cf44;">$</span>
                            <span id="resultSplitNone5"></span>
                        </p>
                    </td>
                    <td>
                        <label>

                            <span id="displayRangeNoneR6C1">0</span>% of the
                            Nonprofits hosting Virtual Campaigns selected your
                            Nonprofit as the referral
                        </label>
                        <input type="range" min="0" max="100" value="0" step="5" class="slider" id="myRangeNoneR6C1" />
                    </td>
                    <td></td>



                </tr>

            </table>
        </div>

        <div class="tableFour">
            <table class="highlight">
                <caption>Total Revenue</caption>
                <thead>
                    <tr>
                        <th>
                            Sources
                        </th>
                        <th>
                            Revenue Earned
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            Hosted Virtual Campaigns
                        </td>
                        <td>
                            <span id="splitsT1R6"></span>%
                        </td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultRevenueTotal"></span>
                            </p>
                        </td>
                        <!-- detailed view of percentages-->
                    </tr>
                    <tr>
                        <td>
                            Non-Hosted Virtual Campaigns
                        </td>
                        <td>
                            <span id="splitsT2R12"></span>%
                        </td>
                        <td>
                            <p>

                                <span style="color: #81cf44;">$</span>
                                <span id="resultRevenueNoneTotal"></span>
                            </p>
                        </td>
                    </tr>

                </tbody>
            </table>


        </div>

    </div>

    <div class="footerTotal">
        <table>
            <tr>
                <td>
                    <span style="font-size:4vw;"> Possible  Total Revenue per Year: </span>
                </td>
            
                <td>
                    <div class="resultTotal">
                        
                            <p id="totalRevenue">
                                
                                <span style="color: #2e2e2e;">$</span>
                                <span id="total"></span>
                            </p>
                      
                    </div>
                </td>

            </tr>
        </table>

    </div>

</body>


<script>

    // on change both sliders update state and print current val also update total
    var sliderOne = document.getElementById("myRangeOne");
    var outputOne = document.getElementById("displayRangeOne");

    var sliderTwo = document.getElementById("myRangeTwo");

    var sliderThree = document.getElementById("myRangeThree");
    var outputThree = document.getElementById("displayRangeThree");

    var numShopper;

    sliderOne.oninput = function () {
        outputOne.innerHTML = this.value;
        calculateAfterDiscounts();
    };
    sliderTwo.oninput = function () {
        calculateAfterDiscounts();
    };
    sliderThree.oninput = function () {
        outputThree.innerHTML = this.value;
        calculateAfterDiscounts();
    };

    // updateTotal on change
    var outputFour = document.getElementById("result");
    var outputFourVal;

    function calculateAfterDiscounts() {
        var numVirutalCampaignsYr = Number(
            document.getElementById("displayRangeOne").innerText
        );
        var numShoppersPerCampaign = Number(
            document.getElementById("myRangeTwo").value
        );
        var aveShopperSpend = Number(
            document.getElementById("displayRangeThree").innerHTML
        );

        var total =
            numVirutalCampaignsYr * numShoppersPerCampaign * aveShopperSpend;

        outputFourVal = total;
        outputFour.innerText = numberWithCommas(total);
        calculateRevenue();
    }

    // Hosted Virtual Campaigns ===================================
    /* sorry for lazy code it was 2am*/
    // get result div
    var resultSplit1 = document.getElementById("resultSplit1");
    var resultSplit2 = document.getElementById("resultSplit2");
    var resultSplit3 = document.getElementById("resultSplit3");
    var resultSplit4 = document.getElementById("resultSplit4");
    var resultSplit5 = document.getElementById("resultSplit5");

    // get range val
    var sliderR2C1 = document.getElementById("myRangeR2C1");
    var sliderR3C1 = document.getElementById("myRangeR3C1");
    var sliderR4C1 = document.getElementById("myRangeR4C1");

    var sliderR5C1 = document.getElementById("myRangeR5C1");


    // get display div
    var outputR2C1 = document.getElementById("displayRangeR2C1");
    var outputR3C1 = document.getElementById("displayRangeR3C1");
    var outputR4C1 = document.getElementById("displayRangeR4C1");

    var outputR5C1 = document.getElementById("displayRangeR5C1");


    // on change sliders update Revenue
    sliderR2C1.oninput = function () {
        outputR2C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR3C1.oninput = function () {
        outputR3C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR4C1.oninput = function () {
        outputR4C1.innerHTML = this.value;
        calculateRevenue();
    };

    sliderR5C1.oninput = function () {
        outputR5C1.innerHTML = this.value;
        calculateRevenue();
    };


    var sliderR2toR5Total;

    function calculateRevenue() {
        // get vals for calculations
        var valR2C1 = Number(
            document.getElementById("displayRangeR2C1").innerText
        );
        var valR3C1 = Number(
            document.getElementById("displayRangeR3C1").innerText
        );
        var valR4C1 = Number(
            document.getElementById("displayRangeR4C1").innerText
        );

        var valR5C1 = Number(
            document.getElementById("displayRangeR5C1").innerText
        );

        // get vals for splits calculations 
        var Split2 = document.getElementById("splitsT1R2")
        var Split3 = document.getElementById("splitsT1R3")
        var Split4 = document.getElementById("splitsT1R4")
        var Split5 = document.getElementById("splitsT1R5")
        var Split6 = document.getElementById("splitsT1R6")

        var s2, s3, s4, s5;


        if (Number(valR2C1) == 0) { Split2.innerText = 0.00; s2 = 0; } else { Split2.innerText = 2.00; s2 = 2.00; }
        if (Number(valR3C1) == 0) { Split3.innerText = 0.00; s3 = 0; } else { Split3.innerText = 2.00; s3 = 2.00; }
        if (Number(valR4C1) == 0) { Split4.innerText = 0.00; s4 = 0; } else { Split4.innerText = 0.50; s4 = 0.50; }
        if (Number(valR5C1) == 0) { Split5.innerText = 0.00; s5 = 0; } else { Split5.innerText = 0.50; s5 = 0.50; }

        Split6.innerText = (
            6 +
            s2 +
            s3 +
            s4 +
            s5 + .00).toFixed(2);


        // calculate 6% Guaranteed to Nonprofit Campaign Host
        resultSplit1.innerText = Math.ceil(0.06 * Number(outputFourVal));

        // calcualte 2% If FavoriMath.round(t Nonprofit of Shopper
        resultSplit2.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (Number(valR2C1) / 100)
        );

        // calculate 2% if Favorite Nonprofit of Business
        resultSplit3.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (Number(valR3C1) / 100)
        );

        // calculate 0.05% If shopper referral was assigned to Nonprofit
        resultSplit4.innerText = Math.ceil(
            0.005 *
            Number(outputFourVal) *
            (Number(valR4C1) / 100)

        );

        // calculate 0.05% if Business referral was assigned to Nonprofit
        resultSplit5.innerText = Math.ceil(
            0.005 *
            Number(outputFourVal) *
            (Number(valR5C1) / 100)
        );

        // store total
        sliderR2toR5Total =
            Number(resultSplit1.innerText) +
            Number(resultSplit2.innerText) +
            Number(resultSplit3.innerText) +
            Number(resultSplit4.innerText) +
            Number(resultSplit5.innerText);

        resultSplit1.innerText = numberWithCommas(resultSplit1.innerText);
        resultSplit2.innerText = numberWithCommas(resultSplit2.innerText);
        resultSplit3.innerText = numberWithCommas(resultSplit3.innerText);
        resultSplit4.innerText = numberWithCommas(resultSplit4.innerText);
        resultSplit5.innerText = numberWithCommas(resultSplit5.innerText);

        // calculate Possible Revenue Received per Year from Campaigns
        document.getElementById("resultRevenue").innerText = numberWithCommas(
            sliderR2toR5Total
        );

        calculateRevenueNone();
    }

    // None-Hosted Vals
    // get result div
    var resultSplitNone1 = document.getElementById("resultSplitNone1");
    var resultSplitNone2 = document.getElementById("resultSplitNone2");
    var resultSplitNone3 = document.getElementById("resultSplitNone3");
    var resultSplitNone4 = document.getElementById("resultSplitNone4");
    var resultSplitNone5 = document.getElementById("resultSplitNone5");

    // get range val
    var sliderNoneR2C1 = document.getElementById("myRangeNoneR2C1");
    var sliderNoneR3C1 = document.getElementById("myRangeNoneR3C1");
    var sliderNoneR4C1 = document.getElementById("myRangeNoneR4C1");

    var sliderNoneR5C1 = document.getElementById("myRangeNoneR5C1");

    var sliderNoneR6C1 = document.getElementById("myRangeNoneR6C1");

    // get display div
    var outputNoneR2C1 = document.getElementById("displayRangeNoneR2C1");
    var outputNoneR3C1 = document.getElementById("displayRangeNoneR3C1");
    var outputNoneR4C1 = document.getElementById("displayRangeNoneR4C1");

    var outputNoneR5C1 = document.getElementById("displayRangeNoneR5C1");

    var outputNoneR6C1 = document.getElementById("displayRangeNoneR6C1");

    // on change sliders update Revenue
    sliderNoneR2C1.oninput = function () {
        outputNoneR2C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR3C1.oninput = function () {
        outputNoneR3C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR4C1.oninput = function () {
        outputNoneR4C1.innerHTML = this.value;
        calculateRevenueNone();
    };

    sliderNoneR5C1.oninput = function () {
        outputNoneR5C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR6C1.oninput = function () {
        outputNoneR6C1.innerHTML = this.value;
        calculateRevenueNone();
    };

    var sliderNoneR2toR5Total;
    // Revenue: Non-Hosted Virtual Campaigns ===================================
    function calculateRevenueNone() {
        // get vals for calculations
        var valNoneR2C1 = Number(
            document.getElementById("displayRangeNoneR2C1").innerText
        );
        var valNoneR3C1 = Number(
            document.getElementById("displayRangeNoneR3C1").innerText
        );
        var valNoneR4C1 = Number(
            document.getElementById("displayRangeNoneR4C1").innerText
        );

        var valNoneR5C1 = Number(
            document.getElementById("displayRangeNoneR5C1").innerText
        );

        var valNoneR6C1 = Number(
            document.getElementById("displayRangeNoneR6C1").innerText
        );



        // get vals for splits calculations 
        var Split7 = document.getElementById("splitsT2R7")
        var Split8 = document.getElementById("splitsT2R8")
        var Split9 = document.getElementById("splitsT2R9")
        var Split10 = document.getElementById("splitsT2R10")
        var Split11 = document.getElementById("splitsT2R11")
        var Split12 = document.getElementById("splitsT2R12")

        var s7, s8, s9, s10, s11;

        if (Number(valNoneR2C1) == 0) { Split7.innerText = 0.00; s7 = 0; } else { Split7.innerText = 2.00; s7 = 2.00; }
        if (Number(valNoneR3C1) == 0) { Split8.innerText = 0.00; s8 = 0; } else { Split8.innerText = 2.00; s8 = 2.00; }
        if (Number(valNoneR4C1) == 0) { Split9.innerText = 0.00; s9 = 0; } else { Split9.innerText = 0.50; s9 = 0.50; }
        if (Number(valNoneR5C1) == 0) { Split10.innerText = 0.00; s10 = 0; } else { Split10.innerText = 0.50; s10 = 0.50; }
        if (Number(valNoneR6C1) == 0) { Split11.innerText = 0.00; s11 = 0; } else { Split11.innerText = 0.50; s11 = 0.50; }


        Split12.innerText = (s7 + s8 + s9 + s10 + s11 + .00).toFixed(2);

        resultSplitNone1.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (valNoneR2C1 / 100)
        );
        resultSplitNone2.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (valNoneR3C1 / 100)
        );
        resultSplitNone3.innerText = Math.ceil(
            0.005 *
            Number(outputFourVal) *
            (valNoneR4C1 / 100)
        );
        resultSplitNone4.innerText = Math.ceil(
            0.005 * Number(outputFourVal) *
            (valNoneR5C1 / 100)
        );
        resultSplitNone5.innerText = Math.ceil(
            0.005 * Number(outputFourVal) *
            (valNoneR6C1 / 100)
        );

        // store total
        sliderR2toR5NoneTotal =
            Number(resultSplitNone1.innerText) +
            Number(resultSplitNone2.innerText) +
            Number(resultSplitNone3.innerText) +
            Number(resultSplitNone4.innerText) +
            Number(resultSplitNone5.innerText);

        resultSplitNone1.innerText = numberWithCommas(
            resultSplitNone1.innerText
        );
        resultSplitNone2.innerText = numberWithCommas(
            resultSplitNone2.innerText
        );
        resultSplitNone3.innerText = numberWithCommas(
            resultSplitNone3.innerText
        );
        resultSplitNone4.innerText = numberWithCommas(
            resultSplitNone4.innerText
        );
        resultSplitNone5.innerText = numberWithCommas(
            resultSplitNone5.innerText
        );

        // calculate Possible Revenue Received per Year from Campaigns
        document.getElementById(
            "resultRevenueNone"
        ).innerText = numberWithCommas(sliderR2toR5NoneTotal);

        //Revenue: Total Annual Projection
        document.getElementById(
            "resultRevenueTotal"
        ).innerText = numberWithCommas(sliderR2toR5Total);
        document.getElementById(
            "resultRevenueNoneTotal"
        ).innerText = numberWithCommas(sliderR2toR5NoneTotal);
        document.getElementById("total").innerText = numberWithCommas(
            sliderR2toR5Total + sliderR2toR5NoneTotal
        );



        // calculate total percentage
        var totalPercentage_Virtual = Number(document.getElementById("splitsT1R6").innerText);
        var totalPercentage_NonVirtual  = Number(document.getElementById("splitsT2R12").innerText);
        var totalPercentage = document.getElementById("total_percentage");

        totalPercentage.innerText = totalPercentage_NonVirtual + totalPercentage_Virtual;
    }
    // add comma to number
    function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
    // detect mobile phone
    /* function mobileView() {
        if (
            typeof window.orientation !== "undefined" ||
            navigator.userAgent.indexOf("IEMobile") !== -1
        ) {
            console.log("mobile");
            // is a mobile

        } else {
            // not mobile
            console.log("not mobile");
            document.location = "index.html";
        }
    } */
</script>

<script type="text/javascript" src="js/materialize.min.js"></script>

</html>