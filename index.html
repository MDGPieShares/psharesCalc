<!DOCTYPE html>
<html>
    <head>
        <title>Calculator</title>
        <!-- Custom css-->
        <link rel="stylesheet" type="text/css" href="css/main.css" />
        <!-- Materialize css -->
        <!--Import Google Icon Font-->
        <link
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
            rel="stylesheet"
        />
        <!--Import materialize.css-->
        <link
            type="text/css"
            rel="stylesheet"
            href="css/materialize.min.css"
            media="screen,projection"
        />

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script type="text/javascript" src="jquery-3.3.1.js"></script>
        <script src="js/main.js"></script>
    </head>

    <body onload="calculateAfterDiscounts()">
        <div class="container">
            <form>
                <div class="formContainer">
                    <h1>Projection Calculator for Nonprofits</h1>
                    Revenue: Hosted Virtual Campaigns

                    
                        <label
                            ><span id="displayRangeOne">4</span> Virtual
                            Campaigns per Year</label
                        >
                        <input
                            type="range"
                            min="1"
                            max="6"
                            value="4"
                            class="slider"
                            id="myRangeOne"
                        />
                    

                    <div class="formItem">
                        <label>
                            (Members and Supporters) per Virtual Campaign
                        </label>
                        <input
                            id="myRangeTwo"
                            class="regInput"
                            type="number"
                            value="100"
                        />
                    </div>

                   
                        <label
                            ><span id="displayRangeThree">100</span>% Avg.
                            Shoppers Spend per Virtual Campaign After
                            Discounts</label
                        >
                        <input
                            id="myRangeThree"
                            type="range"
                            min="0"
                            max="100"
                            value="100"
                            class="slider"
                        />
                   
                </div>
            </form>

            <div class="results">
                <div class="formItem">
                    Total Money Spent by Shoppers After Discounts: <br />
                    <span style="color: #81cf44;">$</span>
                    <span id="result"></span>
                </div>
            </div>

            <!-- Virtual Campaign Revenu Projection -->
            <form>
                
                    Virtual Campaign Revenue Received

                    <table>
                        <thead>
                            <tr>
                                <th>
                                    % Split
                                </th>
                                <th>
                                    Virtual Campaign
                                </th>
                                <th>
                                    Revenue Received
                                </th>
                                <th>
                                    Notes
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>6%</td>
                            <td>Guaranteed to Nonprofit Campaign Host</td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplit1"></span>
                                
                            </td>
                        </tr>
                        <tr>
                            <td>2.00%</td>
                            <td>+ If Favorite Nonprofit of Shopper</td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplit2"></span>
                                </div>
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeR2C1">50</span>% of
                                    participating Shoppers selected your
                                    Nonprofit as their Favorite Nonprofit
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="50"
                                    step="5"
                                    class="slider"
                                    id="myRangeR2C1"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>2.00%</td>
                            <td>+ If Favorite Nonprofit of Business</td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplit3"></span>
                              
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeR3C1">95</span>% of
                                    participating Businesses selected your
                                    Nonprofit as their Favorite Nonprofit
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="95"
                                    step="5"
                                    class="slider"
                                    id="myRangeR3C1"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>0.50%</td>
                            <td>
                                + If Shopper referral was assigned to Nonprofit
                            </td>
                            <td>
                                <div class="formItem">
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplit4"></span>
                                </div>
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeR4C1">70</span>% of
                                    the
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="95"
                                    step="5"
                                    class="slider"
                                    id="myRangeR4C1"
                                />
                            </td>
                            <td>
                                <label>
                                    <span id="displayRangeR4C2">90</span>% of
                                    participating Shoppers selected your
                                    Nonprofit as the referral
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="95"
                                    step="5"
                                    class="slider"
                                    id="myRangeR4C2"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>0.50%</td>
                            <td>
                                + If Business referral was assigned to Nonprofit
                            </td>
                            <td>
                                <div class="formItem">
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplit5"></span>
                                </div>
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeR5C1">70</span>% of
                                    the
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="70"
                                    step="5"
                                    class="slider"
                                    id="myRangeR5C1"
                                />
                            </td>

                            <td>
                                <label>
                                    <span id="displayRangeR5C2">95</span>% of
                                    participating Businesses selected your
                                    Nonprofit as the referral
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="95"
                                    step="5"
                                    class="slider"
                                    id="myRangeR5C2"
                                />
                            </td>
                        </tr>
                    </tbody>
                    </table>

                    <div class="results">
                        
                            Possible Revenue Received per Year from Campaigns:
                            11% <br />
                            <span style="color: #81cf44;">$</span>
                            <span id="resultRevenue"></span>
                        
                    </div>
               
            </form>

            <!-- =======Revenue: Non-Hosted Virtual Campaigns Projection================================ -->
            <form>
                
                    Revenue: Non-Hosted Virtual Campaigns

                    <table>
                        <tr>
                            <td>2.00%</td>
                            <td>+ If Favorite Nonprofit of Shopper</td>
                            <td>
                               
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplitNone1"></span>
                                
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeNoneR2C1">10</span>%
                                    of your Shoppers spending in other Virtual
                                    Campaigns.
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="10"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR2C1"
                                />
                            </td>
                        </tr>

                        <tr>
                            <td>2.00%</td>
                            <td>+ If Favorite Nonprofit of Business</td>
                            <td>
                               
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplitNone2"></span>
                                
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeNoneR3C1">5</span>% of
                                    your Businesses selling in other Virtual
                                    Campaigns.
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="5"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR3C1"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>0.50%</td>
                            <td>
                                + If Shopper referral was assigned to Nonprofit
                            </td>
                            <td>
                               
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplitNone3"></span>
                               
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeNoneR4C1">70</span>%
                                    of
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="70"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR4C1"
                                />
                            </td>
                            <td>
                                <label>
                                    the<span id="displayRangeNoneR4C2">10</span
                                    >% of participating Shoppers selected your
                                    Nonprofit as the referral
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="10"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR4C2"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>0.50%</td>
                            <td>
                                + If Business referral was assigned to Nonprofit
                            </td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplitNone4"></span>
                               
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeNoneR5C1">70</span>%
                                    of the
                                </label>

                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="70"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR5C1"
                                />
                            </td>
                            <td>
                                <label>
                                    <span id="displayRangeNoneR5C2">5</span>% of
                                    participating Businesses selected your
                                    Nonprofit as the referral
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="5"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR5C2"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td>0.50%</td>
                            <td>
                                + If Nonprofit referral was assigned to
                                Nonprofit
                            </td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultSplitNone5"></span>
                               
                            </td>
                            <td>
                                <label>
                                    Assumed
                                    <span id="displayRangeNoneR6C1">0</span>% of
                                    the Nonprofits hosting Virtual Campaigns
                                    selected your Nonprofit as the referral
                                </label>
                                <input
                                    type="range"
                                    min="0"
                                    max="100"
                                    value="0"
                                    step="5"
                                    class="slider"
                                    id="myRangeNoneR6C1"
                                />
                            </td>
                        </tr>
                    </table>

                    <div class="results">
                        <div class="formItem">
                            Possible Revenue Received per Year from Campaigns:
                            11% <br />
                            <span style="color: #81cf44;">$</span>
                            <span id="resultRevenueNone"></span>
                        </div>
                    </div>
               
            </form>

            <div class="responsive-table">
                <table>
                    <thead>
                        <tr>
                            <th>
                                Revenue Sources
                            </th>
                            <th>
                                Revenue Received
                            </th>
                            <th>
                                Notes
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                Hosted Virtual Campaigns
                            </td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultRevenueTotal"></span>
                                
                            </td>
                            <td>
                                Revenue from Virtual Campaigns your Nonprofit
                                hosts
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Non-Hosted Virtual Campaigns
                            </td>
                            <td>
                                
                                    <span style="color: #81cf44;">$</span>
                                    <span id="resultRevenueNoneTotal"></span>
                               
                            </td>
                            <td>
                                Revenue from Virtual Campaigns your Nonprofit
                                does NOT host
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Possible Total Revenue Received per Year
                            </td>
                            <td>
                                <span style="color: #81cf44;">$</span>
                                <span id="total"></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>

<script>
    // on change both sliders update state and print current val also update total
    var sliderOne = document.getElementById("myRangeOne");
    var outputOne = document.getElementById("displayRangeOne");

    var sliderTwo = document.getElementById("myRangeTwo");

    var sliderThree = document.getElementById("myRangeThree");
    var outputThree = document.getElementById("displayRangeThree");

    var numShopper;

    sliderOne.oninput = function () {
        outputOne.innerHTML = this.value;
        calculateAfterDiscounts();
    };
    sliderTwo.oninput = function () {
        calculateAfterDiscounts();
    };
    sliderThree.oninput = function () {
        outputThree.innerHTML = this.value;
        calculateAfterDiscounts();
    };

    // updateTotal on change
    var outputFour = document.getElementById("result");
    var outputFourVal;

    function calculateAfterDiscounts() {
        var numVirutalCampaignsYr = Number(
            document.getElementById("displayRangeOne").innerText
        );
        var numShoppersPerCampaign = Number(
            document.getElementById("myRangeTwo").value
        );
        var aveShopperSpend = Number(
            document.getElementById("displayRangeThree").innerHTML
        );

        var total =
            numVirutalCampaignsYr * numShoppersPerCampaign * aveShopperSpend;

        outputFourVal = total;
        outputFour.innerText = numberWithCommas(total);
        calculateRevenue();
    }

    // Hosted Virtual Campaigns ===================================
    /* sorry for lazy code it was 2am*/
    // get result div
    var resultSplit1 = document.getElementById("resultSplit1");
    var resultSplit2 = document.getElementById("resultSplit2");
    var resultSplit3 = document.getElementById("resultSplit3");
    var resultSplit4 = document.getElementById("resultSplit4");
    var resultSplit5 = document.getElementById("resultSplit5");

    // get range val
    var sliderR2C1 = document.getElementById("myRangeR2C1");
    var sliderR3C1 = document.getElementById("myRangeR3C1");
    var sliderR4C1 = document.getElementById("myRangeR4C1");
    var sliderR4C2 = document.getElementById("myRangeR4C2");
    var sliderR5C1 = document.getElementById("myRangeR5C1");
    var sliderR5C2 = document.getElementById("myRangeR5C2");

    // get display div
    var outputR2C1 = document.getElementById("displayRangeR2C1");
    var outputR3C1 = document.getElementById("displayRangeR3C1");
    var outputR4C1 = document.getElementById("displayRangeR4C1");
    var outputR4C2 = document.getElementById("displayRangeR4C2");
    var outputR5C1 = document.getElementById("displayRangeR5C1");
    var outputR5C2 = document.getElementById("displayRangeR5C2");

    // on change sliders update Revenue
    sliderR2C1.oninput = function () {
        outputR2C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR3C1.oninput = function () {
        outputR3C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR4C1.oninput = function () {
        outputR4C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR4C2.oninput = function () {
        outputR4C2.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR5C1.oninput = function () {
        outputR5C1.innerHTML = this.value;
        calculateRevenue();
    };
    sliderR5C2.oninput = function () {
        outputR5C2.innerHTML = this.value;
        calculateRevenue();
    };

    var sliderR2toR5Total;

    function calculateRevenue() {
        // get vals for calculations
        var valR2C1 = Number(
            document.getElementById("displayRangeR2C1").innerText
        );
        var valR3C1 = Number(
            document.getElementById("displayRangeR3C1").innerText
        );
        var valR4C1 = Number(
            document.getElementById("displayRangeR4C1").innerText
        );
        var valR4C2 = Number(
            document.getElementById("displayRangeR4C2").innerText
        );
        var valR5C1 = Number(
            document.getElementById("displayRangeR5C1").innerText
        );
        var valR5C2 = Number(
            document.getElementById("displayRangeR5C2").innerText
        );

        // calculate 6% Guaranteed to Nonprofit Campaign Host
        resultSplit1.innerText = Math.round(0.06 * Number(outputFourVal));
        console.log(resultSplit1.innerText);

        // calcualte 2% If FavoriMath.round(t Nonprofit of Shopper
        resultSplit2.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (Number(valR2C1) / 100)
        );

        // calculate 2% if Favorite Nonprofit of Business
        resultSplit3.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (Number(valR3C1) / 100)
        );

        // calculate 0.05% If shopper referral was assigned to Nonprofit
        resultSplit4.innerText = Math.ceil(
            0.005 *
                Number(outputFourVal) *
                (Number(valR4C1) / 100) *
                (Number(valR4C2) / 100)
        );

        // calculate 0.05% if Business referral was assigned to Nonprofit
        resultSplit5.innerText = Math.ceil(
            0.005 *
                Number(outputFourVal) *
                (Number(valR5C1) / 100) *
                (Number(valR5C2) / 100)
        );

        // store total
        sliderR2toR5Total =
            Number(resultSplit1.innerText) +
            Number(resultSplit2.innerText) +
            Number(resultSplit3.innerText) +
            Number(resultSplit4.innerText) +
            Number(resultSplit5.innerText);

        resultSplit1.innerText = numberWithCommas(resultSplit1.innerText);
        resultSplit2.innerText = numberWithCommas(resultSplit2.innerText);
        resultSplit3.innerText = numberWithCommas(resultSplit3.innerText);
        resultSplit4.innerText = numberWithCommas(resultSplit4.innerText);
        resultSplit5.innerText = numberWithCommas(resultSplit5.innerText);

        // calculate Possible Revenue Received per Year from Campaigns
        document.getElementById("resultRevenue").innerText = numberWithCommas(
            sliderR2toR5Total
        );

        calculateRevenueNone();
    }
    // None-Hosted Vals
    // get result div
    var resultSplitNone1 = document.getElementById("resultSplitNone1");
    var resultSplitNone2 = document.getElementById("resultSplitNone2");
    var resultSplitNone3 = document.getElementById("resultSplitNone3");
    var resultSplitNone4 = document.getElementById("resultSplitNone4");
    var resultSplitNone5 = document.getElementById("resultSplitNone5");

    // get range val
    var sliderNoneR2C1 = document.getElementById("myRangeNoneR2C1");
    var sliderNoneR3C1 = document.getElementById("myRangeNoneR3C1");
    var sliderNoneR4C1 = document.getElementById("myRangeNoneR4C1");
    var sliderNoneR4C2 = document.getElementById("myRangeNoneR4C2");
    var sliderNoneR5C1 = document.getElementById("myRangeNoneR5C1");
    var sliderNoneR5C2 = document.getElementById("myRangeNoneR5C2");
    var sliderNoneR6C1 = document.getElementById("myRangeNoneR6C1");

    // get display div
    var outputNoneR2C1 = document.getElementById("displayRangeNoneR2C1");
    var outputNoneR3C1 = document.getElementById("displayRangeNoneR3C1");
    var outputNoneR4C1 = document.getElementById("displayRangeNoneR4C1");
    var outputNoneR4C2 = document.getElementById("displayRangeNoneR4C2");
    var outputNoneR5C1 = document.getElementById("displayRangeNoneR5C1");
    var outputNoneR5C2 = document.getElementById("displayRangeNoneR5C2");
    var outputNoneR6C1 = document.getElementById("displayRangeNoneR6C1");

    // on change sliders update Revenue
    sliderNoneR2C1.oninput = function () {
        outputNoneR2C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR3C1.oninput = function () {
        outputNoneR3C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR4C1.oninput = function () {
        outputNoneR4C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR4C2.oninput = function () {
        outputNoneR4C2.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR5C1.oninput = function () {
        outputNoneR5C1.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR5C2.oninput = function () {
        outputNoneR5C2.innerHTML = this.value;
        calculateRevenueNone();
    };
    sliderNoneR6C1.oninput = function () {
        outputNoneR6C1.innerHTML = this.value;
        calculateRevenueNone();
    };

    var sliderNoneR2toR5Total;
    // Revenue: Non-Hosted Virtual Campaigns ===================================
    function calculateRevenueNone() {
        // get vals for calculations
        var valNoneR2C1 = Number(
            document.getElementById("displayRangeNoneR2C1").innerText
        );
        var valNoneR3C1 = Number(
            document.getElementById("displayRangeNoneR3C1").innerText
        );
        var valNoneR4C1 = Number(
            document.getElementById("displayRangeNoneR4C1").innerText
        );
        var valNoneR4C2 = Number(
            document.getElementById("displayRangeNoneR4C2").innerText
        );
        var valNoneR5C1 = Number(
            document.getElementById("displayRangeNoneR5C1").innerText
        );
        var valNoneR5C2 = Number(
            document.getElementById("displayRangeNoneR5C2").innerText
        );
        var valNoneR6C1 = Number(
            document.getElementById("displayRangeNoneR6C1").innerText
        );

        resultSplitNone1.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (valNoneR2C1 / 100)
        );
        resultSplitNone2.innerText = Math.ceil(
            0.02 * Number(outputFourVal) * (valNoneR3C1 / 100)
        );
        resultSplitNone3.innerText = Math.ceil(
            0.005 *
                Number(outputFourVal) *
                (valNoneR4C1 / 100) *
                (valNoneR4C2 / 100)
        );
        resultSplitNone4.innerText = Math.ceil(
            0.005 *
                Number(outputFourVal) *
                (valNoneR5C1 / 100) *
                (valNoneR5C2 / 100)
        );
        resultSplitNone5.innerText = Math.ceil(
            0.005 * Number(outputFourVal) * (valNoneR6C1 / 100)
        );

        // store total
        sliderR2toR5NoneTotal =
            Number(resultSplitNone1.innerText) +
            Number(resultSplitNone2.innerText) +
            Number(resultSplitNone3.innerText) +
            Number(resultSplitNone4.innerText) +
            Number(resultSplitNone5.innerText);

        resultSplitNone1.innerText = numberWithCommas(
            resultSplitNone1.innerText
        );
        resultSplitNone2.innerText = numberWithCommas(
            resultSplitNone2.innerText
        );
        resultSplitNone3.innerText = numberWithCommas(
            resultSplitNone3.innerText
        );
        resultSplitNone4.innerText = numberWithCommas(
            resultSplitNone4.innerText
        );
        resultSplitNone5.innerText = numberWithCommas(
            resultSplitNone5.innerText
        );

        // calculate Possible Revenue Received per Year from Campaigns
        document.getElementById(
            "resultRevenueNone"
        ).innerText = numberWithCommas(sliderR2toR5NoneTotal);

        //Revenue: Total Annual Projection
        document.getElementById(
            "resultRevenueTotal"
        ).innerText = numberWithCommas(sliderR2toR5Total);
        document.getElementById(
            "resultRevenueNoneTotal"
        ).innerText = numberWithCommas(sliderR2toR5NoneTotal);
        document.getElementById("total").innerText = numberWithCommas(
            sliderR2toR5Total + sliderR2toR5NoneTotal
        );
    }

    // add comma to number
    function numberWithCommas(x) {
        return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
</script>
<script type="text/javascript" src="js/materialize.min.js"></script>
